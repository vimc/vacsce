<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Dr. Xiang Li" />

<meta name="date" content="2023-08-02" />

<title>Using vacsce for vaccination coverage scenario generation</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Using vacsce for vaccination coverage
scenario generation</h1>
<h4 class="author">Dr. Xiang Li</h4>
<h4 class="date">2023-08-02</h4>



<div id="introduction" class="section level2">
<h2>1. Introduction</h2>
<p>This vignette describes how to use <strong>vacsce</strong> to
generate vaccination coverage scenarios. <strong>vacsce</strong>
provides a set of coverage projection rules. Its initial objective was
to document commonly used coverage projection rules and work as a tool
for VIMC’s model runs, interim-update and related analysis. As VIMC
continues expanding its collaboration with greater public health
community, we further plan to release <strong>vacsce</strong> as a tool
for external users who share common interests such as planning for
immunization programs, assessment of vaccine impact, etc.</p>
</div>
<div id="future-vaccination-coverage-projection-rules" class="section level2">
<h2>2. Future vaccination coverage projection rules</h2>
<p><em>vacsce</em> currently contains seven coverage projection rules:
four of which are related to routine immunization and three for
supplementary immunization activities (SIAs) (see
<em>vacsce/R/projection_rules.R</em>). In this section, we provide
details of these rules with examples.</p>
<div id="load-example-data" class="section level3">
<h3>Load example data</h3>
<p>We provide an example input data set in this package. The example
data set is used to illustrate projection rules and the usage of
<strong>vacsce</strong> package.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># example coverage source data</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;../inst/example_data.csv&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># current year partitions historical and future coverage sources</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>year_cur <span class="ot">&lt;-</span> <span class="dv">2021</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># historical coverage data, for simplicity only use data from 2016</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>his <span class="ot">&lt;-</span> data[data<span class="sc">$</span>year <span class="sc">&lt;=</span> year_cur <span class="sc">&amp;</span> data<span class="sc">$</span>year <span class="sc">&gt;</span> <span class="dv">2015</span>, ] </span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kable</span>(his[<span class="dv">3</span>, ])</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:left;">
target
</th>
<th style="text-align:right;">
coverage
</th>
<th style="text-align:right;">
proportion_risk
</th>
<th style="text-align:left;">
disease
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
61
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0.4315509
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Measles
</td>
</tr>
</tbody>
</table>
<p>Here we present the first row of the example data for you to
understand input data structure for <strong>vacsce</strong>. The input
data consists of columns <strong>region, vaccine, activity_type, year,
age_from, age_to, gender, target, coverage</strong>. Each row of data
represents a particular immunisation activity. Specifically,</p>
<p>a.) <strong>age_from</strong> and <strong>age_to</strong> define
target age groups of vaccination,</p>
<p>b.) <strong>gender</strong> gender. <strong>vacsce</strong> takes 1 =
“Both”, 2 = “Male” and 3 = “Female” for simplification.</p>
<p>c.) <strong>target</strong> refers to the population of target age
groups in the <strong>region</strong></p>
<p>d.) <strong>coverage</strong> is the proportion of target population
vaccinated. In this set up, <strong>coverage</strong> is region
level.</p>
<p>e.) <strong>proportion_risk</strong> refers to the proportion of
at-risk population in the <strong>region</strong>. It is needed as
<strong>vacsce</strong> projects future coverage relevant to at-risk
population first, and scale the projection to regional level after.</p>
<p>We give a simple example here. If in a given region, target age
groups are defined by age_from = 0 and age_to = 0, and target population
is the cohort size of age 0 in the region. coverage = 20% represents a
regional level vaccination coverage. If proportion_risk = 30%, the
regional level coverage (20%) translates to 66.7% coverage in the
at-risk population.</p>
</div>
<div id="routine-coverage-projection-rule---keep_levels" class="section level3">
<h3>2.1. Routine coverage projection rule - keep_levels</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load historical coverage data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;MCV1&quot;</span>,]</span></code></pre></div>
<p>This is a routine vaccination coverage projection rule. It assumes
that future routine coverage level is maintained at a certain constant
level. In the following MCV1 example, the historical coverage of MCV1 is
44.3% in year 2021. <strong>keep_levels</strong> projects future
coverage from 2022 to 2030, where future coverage level is maintained at
the level of 2021.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">keep_levels</span>(d, <span class="at">year_from =</span> year_cur <span class="sc">+</span> <span class="dv">1</span>, </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">year_to=</span><span class="dv">2030</span>, </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">level=</span>d<span class="sc">$</span>coverage[d<span class="sc">$</span>year <span class="sc">==</span> year_cur])</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2017
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2021
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
</tbody>
</table>
</div>
<div id="routine-coverage-projection-rule---incremental" class="section level3">
<h3>2.2. Routine coverage projection rule - incremental</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load historical coverage data</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;MCV1&quot;</span>,]</span></code></pre></div>
<p><strong>incremental</strong> is also a routine coverage projection
rule. It suggests that future vaccination coverage will grow
incrementally. Taking again the MCV1 example,
<strong>incremental</strong> projects future coverage from 2022 to 2030,
where future coverage level increases by 1% (set by parameter -
<strong>step</strong>) annually. Parameter <strong>cap</strong> defines
a threshold for maximum future coverage level. However, it will be
coerced by best historical coverage if which is higher.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">incremental</span>(d, <span class="at">year_from =</span> year_cur <span class="sc">+</span> <span class="dv">1</span>, </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">year_to =</span> <span class="dv">2030</span>, </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">step =</span> <span class="fl">0.01</span>, </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">cap =</span> <span class="fl">0.95</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2017
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2021
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
0.453
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.463
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.473
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.483
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.493
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.503
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.513
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.523
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.533
</td>
</tr>
</tbody>
</table>
</div>
<div id="routine-coverage-projection-rule---catch_up_with_x" class="section level3">
<h3>2.3. Routine coverage projection rule - catch_up_with_x</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load historical coverage data</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;MCV2&quot;</span>,]</span></code></pre></div>
<p><strong>catch_up_with_x</strong> is another routine coverage
projection rule. To make it simply, <strong>catch_up_with_x</strong> is
short for <strong>catch up with the coverage level of vaccine X from
year_from to year_to</strong>. This can be more flexible if one believes
it is more sense-making to <strong>catch up with an up-/down-scaled
coverage level of vaccine X from year_from to year_to</strong>. This
rule is particularly useful for routine introduction. Of course, it can
be generalised to situations where routine immunisation has been
introduced, while one wants to boost-up vaccination coverage to match
certain vaccine coverage level.</p>
<p>We give an example where the rule is used for routine introduction.
In this example, there is no historical MCV2 routine introduction, which
indicats a future routine introduction. <strong>catch_up_with_x</strong>
projects routine introduction in year 2024. Coverage level increases
non-linearly and reaches 85% in year 2027. 85% represents coverage level
(or up-/down-scaled level) of a certain vaccine in year 2027. This
coverage level multiply by factor <strong>intro_level</strong>
determines the routine introduction coverage level of MCV2 in 2024.</p>
<p>In the case where routine introduction has had happened. The
projection rule will <strong>non-linearly scale-up</strong> to the
target <strong>vaccine_x_level</strong> from
<strong>year_from-1</strong>, hence one needs to make sure there is a
coverage value in <strong>year_from -1</strong>. A message will show up
saying that parameter <strong>intro_level</strong> is not applicable and
not used. (N.B. <strong>non-linearly scale-up</strong> refers to the
next generation rule to be introduced.)</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">catch_up_with_x</span>(d, <span class="at">year_from =</span> year_cur <span class="sc">+</span> <span class="dv">3</span>, </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">year_to =</span> year_cur <span class="sc">+</span> <span class="dv">6</span>, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">vaccine_x_level =</span> <span class="fl">0.85</span>, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">intro_level =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">age_from =</span> <span class="dv">2</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">age_to =</span> <span class="dv">2</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">gender =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">disease =</span> <span class="st">&quot;Measles&quot;</span>, <span class="at">vaccine =</span> <span class="st">&quot;MCV2&quot;</span>, </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">region =</span> <span class="st">&quot;ISO&quot;</span>, <span class="at">activity_type =</span> <span class="st">&quot;routine&quot;</span>) </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="do">## manually add disease, vaccine, activity_type and region while using specific rules.</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="do">## automatically filled by the package&#39;s over-arching function vac_sce()</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="do">## vac_sce() will be introduced in section 3 with examples.</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.283
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.574
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.747
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.850
</td>
</tr>
</tbody>
</table>
</div>
<div id="routine-coverage-projection-rule---non_linear_scale_up" class="section level3">
<h3>2.4. Routine coverage projection rule - non_linear_scale_up**</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load historical coverage data</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;MCV1&quot;</span>,]</span></code></pre></div>
<p><strong>non_linear_scale_up</strong> refers to IA2030 non-linear
scale up function (TBA: ref.). In the following example, the historical
coverage of MCV1 for region ISO is 44.3% in year 2021.
<strong>non_linear_scale_up</strong> projects future coverage from 2022
to 2030, where future coverage level non-linearly increases annually.
Parameter <strong>endpoint</strong> sets the target coverage level in
year 2030.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">non_linear_scale_up</span>(d, <span class="at">year_from =</span> year_cur <span class="sc">+</span> <span class="dv">1</span>, </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">year_to =</span> <span class="dv">2030</span>, </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">endpoint =</span> <span class="fl">0.9</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">age_from =</span> <span class="dv">0</span>, </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">age_to =</span> <span class="dv">0</span>, </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">gender =</span> <span class="dv">1</span>)<span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">disease =</span> <span class="st">&quot;Measles&quot;</span>, <span class="at">vaccine =</span> <span class="st">&quot;MCV1&quot;</span>, </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">region =</span> <span class="st">&quot;ISO&quot;</span>, <span class="at">activity_type =</span> <span class="st">&quot;routine&quot;</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2017
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2021
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
0.540
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.620
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.686
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.740
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.786
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.823
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.854
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.879
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
</tbody>
</table>
</div>
<div id="campaign-projection-rule---sia_follow_up" class="section level3">
<h3>2.5. Campaign projection rule - sia_follow_up</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load historical coverage data</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;MCV1&quot;</span>,]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;Measles&quot;</span>, ]</span></code></pre></div>
<p>Projection rule, <strong>sia_follow_up</strong>, projects future
follow-up supplementary immunisation activities (SIAs) according to a
baseline routine vaccination trajectory and historical SIAs. In this
example, we first project future MCV1 coverage using the
<strong>non_linear_scale_up</strong> rule. Then we evaluate MCV1
coverage trajectory and historical SIAs from year
<strong>year_current-look_back</strong> to determine future follow-up
campaigns. For details of how this evaluation is done, see
<strong>projection_rules.R/sia_follow_up</strong>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="do">## project baseline routine coverage trajectory</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">non_linear_scale_up</span>(d, <span class="at">year_from =</span> year_cur <span class="sc">+</span> <span class="dv">1</span>, </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">year_to =</span> <span class="dv">2030</span>, </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">endpoint =</span> <span class="fl">0.9</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">age_from =</span> <span class="dv">0</span>, </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">age_to =</span> <span class="dv">0</span>, </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">gender =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">disease =</span> <span class="st">&quot;Measles&quot;</span>, <span class="at">vaccine =</span> <span class="st">&quot;MCV1&quot;</span>, </span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">region =</span> <span class="st">&quot;ISO&quot;</span>, <span class="at">activity_type =</span> <span class="st">&quot;routine&quot;</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2017
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2021
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
0.540
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.620
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.686
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.740
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.786
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.823
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.854
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.879
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="do">## base on baseline routine trajectory and historical SIAs, project future follow-up SIAs</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">sia_follow_up</span>(d2, dat, <span class="at">vaccine_base =</span> <span class="st">&quot;MCV1&quot;</span>, <span class="at">year_current =</span> year_cur, </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">year_to =</span> <span class="dv">2030</span>, </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">look_back =</span> <span class="dv">4</span>, </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">sia_level =</span> <span class="fl">0.9</span>, </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">age_from =</span> <span class="dv">1</span>, </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">age_to =</span> <span class="dv">5</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">gender =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">disease =</span> <span class="st">&quot;Measles&quot;</span>, <span class="at">vaccine =</span> <span class="st">&quot;Measles&quot;</span>, </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">region =</span> <span class="st">&quot;ISO&quot;</span>, <span class="at">activity_type =</span> <span class="st">&quot;campaign&quot;</span>)</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.918
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2033
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
</tbody>
</table>
</div>
<div id="campaign-projection-rule---sia_catch_up" class="section level3">
<h3>2.6. Campaign projection rule - sia_catch_up</h3>
</div>
</div>
<div id="load-historical-coverage-data" class="section level2">
<h2>load historical coverage data</h2>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load historical coverage data</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;HPV&quot;</span> <span class="sc">&amp;</span> his<span class="sc">$</span>activity_type <span class="sc">==</span> <span class="st">&quot;routine&quot;</span>,]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;HPV&quot;</span> <span class="sc">&amp;</span> his<span class="sc">$</span>activity_type <span class="sc">==</span> <span class="st">&quot;campaign&quot;</span>,]</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>d3 <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;MenA&quot;</span> <span class="sc">&amp;</span> his<span class="sc">$</span>activity_type <span class="sc">==</span> <span class="st">&quot;routine&quot;</span>,]</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>d4 <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;MenA&quot;</span> <span class="sc">&amp;</span> his<span class="sc">$</span>activity_type <span class="sc">==</span> <span class="st">&quot;campaign&quot;</span>,]</span></code></pre></div>
<p>Projection rule, <strong>sia_catch_up</strong>, projects catch-up
supplementary immunisation activities (SIAs) according to a baseline
routine vaccination trajectory and historical SIAs. It performs either
an initial large scale catch-up prior routine introduction, or a
mini-catch-up targeting missing cohorts between initial large scale
catch-up and routine introduction. In the following, we give one example
for each circumstance.</p>
<p><strong>Situation A: No initial catch-up SIAs implemented before
routine introduction</strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="do">## project baseline routine coverage trajectory</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">catch_up_with_x</span>(d1, <span class="at">year_from =</span> <span class="dv">2027</span>, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">year_to =</span> <span class="dv">2030</span>, </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">vaccine_x_level =</span> <span class="fl">0.7</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">age_from =</span> <span class="dv">9</span>, </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">age_to =</span> <span class="dv">9</span>, </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">gender =</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">disease =</span> <span class="st">&quot;HPV&quot;</span>, <span class="at">vaccine =</span> <span class="st">&quot;HPV&quot;</span>, </span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">region =</span> <span class="st">&quot;ISO&quot;</span>, <span class="at">activity_type =</span> <span class="st">&quot;routine&quot;</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.233
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.439
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.590
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.700
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="do">## base on baseline routine trajectory and historical SIAs, </span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="do">## project future initial catch-up SIA for routine introduction</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">sia_catch_up</span>(d2, dat, <span class="at">vaccine_base =</span> <span class="st">&quot;HPV&quot;</span>, </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">sia_level =</span> <span class="fl">0.9</span>, </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">age_from =</span> <span class="dv">10</span>, </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">age_to =</span> <span class="dv">15</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">gender =</span> <span class="dv">3</span>)<span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">disease =</span> <span class="st">&quot;HPV&quot;</span>, <span class="at">vaccine =</span> <span class="st">&quot;HPV&quot;</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">region =</span> <span class="st">&quot;ISO&quot;</span>, <span class="at">activity_type =</span> <span class="st">&quot;campaign&quot;</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
</tbody>
</table>
<p><strong>Situation A: With initial catch-up SIAs implemented before
routine introduction</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="do">## project baseline routine coverage trajectory</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">catch_up_with_x</span>(d3, <span class="at">year_from =</span> <span class="dv">2023</span>, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">year_to =</span> <span class="dv">2026</span>, </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">vaccine_x_level =</span> <span class="fl">0.7</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">age_from =</span> <span class="dv">0</span>, </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">age_to =</span> <span class="dv">0</span>, </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">gender =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">disease =</span> <span class="st">&quot;MenA&quot;</span>, <span class="at">vaccine =</span> <span class="st">&quot;MenA&quot;</span>, </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">region =</span> <span class="st">&quot;ISO&quot;</span>, <span class="at">activity_type =</span> <span class="st">&quot;routine&quot;</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.233
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.439
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.590
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.700
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="do">## base on baseline routine trajectory and historical SIAs, </span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="do">## project future mini-catch-up SIA targeting missing cohorts</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">sia_catch_up</span>(d4, dat, <span class="at">vaccine_base =</span> <span class="st">&quot;MenA&quot;</span>, </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">sia_level =</span> <span class="fl">0.9</span>, </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">age_from =</span> <span class="dv">1</span>, </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">age_to =</span> <span class="dv">29</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">gender =</span> <span class="dv">1</span>)<span class="sc">%&gt;%</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">disease =</span> <span class="st">&quot;MenA&quot;</span>, <span class="at">vaccine =</span> <span class="st">&quot;MenA&quot;</span>, </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">region =</span> <span class="st">&quot;ISO&quot;</span>, <span class="at">activity_type =</span> <span class="st">&quot;campaign&quot;</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
0.918
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
</tbody>
</table>
<div id="campaign-projection-rule---sia_recurrent" class="section level3">
<h3>2.7. Campaign projection rule - sia_recurrent**</h3>
</div>
</div>
<div id="load-historical-coverage-data-1" class="section level2">
<h2>load historical coverage data</h2>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load historical coverage data</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;Cholera&quot;</span>, ]</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> his[his<span class="sc">$</span>vaccine <span class="sc">==</span> <span class="st">&quot;Measles&quot;</span>, ]</span></code></pre></div>
<p><strong>sia_recurrent</strong> projects simple recurrent SIAs between
year_from and year_to with specified frequency, target age groups and
coverage level. If no historical SIAs conducted, it will project from
year_from. If historical SIAs have been implemented, it continues
projection from recorded most recent SIA. We give one example for each
situation.</p>
<p><strong>Situation A: No historical SIAs</strong></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">sia_recurrent</span>(d1, <span class="at">dat =</span> <span class="cn">NULL</span>, <span class="at">year_from =</span> <span class="dv">2020</span>, <span class="at">year_to =</span> <span class="dv">2030</span>, </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">frequency =</span> <span class="dv">3</span>, <span class="at">sia_level =</span> <span class="fl">0.3</span>, </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">age_from =</span> <span class="dv">1</span>, </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">age_to =</span> <span class="dv">60</span>,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">gender =</span> <span class="dv">1</span>)<span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">disease =</span> <span class="st">&quot;Cholera&quot;</span>, <span class="at">vaccine =</span> <span class="st">&quot;Cholera&quot;</span>, </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">region =</span> <span class="st">&quot;ISO&quot;</span>, <span class="at">activity_type =</span> <span class="st">&quot;campaign&quot;</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
0.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.3
</td>
</tr>
</tbody>
</table>
<p><strong>Situation B: With historical SIAs</strong></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">sia_recurrent</span>(d2, <span class="at">dat =</span> <span class="cn">NULL</span>, <span class="at">year_from =</span> <span class="dv">2020</span>, <span class="at">year_to =</span> <span class="dv">2030</span>, </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">frequency =</span> <span class="dv">3</span>, <span class="at">sia_level =</span> <span class="fl">0.3</span>,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">age_from =</span> <span class="dv">1</span>, <span class="at">age_to =</span> <span class="dv">60</span>, <span class="at">gender =</span> <span class="dv">1</span>)<span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">disease =</span> <span class="st">&quot;Measles&quot;</span>, <span class="at">vaccine =</span> <span class="st">&quot;Measles&quot;</span>, </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">region =</span> <span class="st">&quot;ISO&quot;</span>, <span class="at">activity_type =</span> <span class="st">&quot;campaign&quot;</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; historical campaign is identified, project from most recent campaign year</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.918
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:right;">
0.300
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
0.300
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.300
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.300
</td>
</tr>
</tbody>
</table>
</div>
<div id="using-vacsce-with-examples" class="section level2">
<h2>3. Using vacsce with examples</h2>
<p>Having had introduced projection rules used by vacsce, in the
following, we give plenty of examples of how you might interact with
vacsce in practice.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="do">## The tool can work on a single delivery, or a set of deliveries</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="do">## it works on only one region-disease combination each time</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="do">## in the next, I give a few examples</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="do">## A few tips before examples</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="do">## STEPS: prepare input -&gt; run vacsce for coverage scenario</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="do">## input is a list consists of three objects - params, src and proj_rul, meaning parameters, coverage source and projection rules, respectively.</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="do">## params ##</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="do">## params is a list that contains</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="do">## ------- region: &lt;character&gt; e.g. a country name, ISO code, sub-national region, or anything that is meaning for the user</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="do">## ------- disease: &lt;character&gt; any disease name of interest</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="do">## ------- proportion_risk: &lt;numeric&gt; the proportion of population at risk of infection, between 0-1</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="do">## ------- year_cur: &lt;int&gt; current year. Though this can be inferred from historical coverage data (if any), vacsce still requires this be specified under its structural design</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="do">## ------- introduction: &lt;data.frame&gt; introduction years by vaccine delivery, i.e. vaccine, activity_type, and year_intro.</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="do">##                       NA yera_intro is fine for campaigns or routines already introduced, cannot be NA for future routine introduction.</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="do">## src ##</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="do">## src is a list of historic and future coverage sources. src=lis(historic, future)</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="do">## ------- historic: historical coverage source</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="do">## ------- future: future coverage source</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a><span class="do">##                  historic and future are two data frames sharing the same structure (see below)</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a><span class="do">##                  (region, vaccine, activity_type, year, age_from, age_to, gender, target, coverage)</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a><span class="do">## proj_rul ##</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a><span class="do">## proj_rul is a list consists of future projection rules.</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="do">## The number of rules are determined by how many vaccine delivery specified in params$introduction</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a><span class="do">## N.B. rules will over-write any source coverage provided</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a><span class="do">## e.g. if future is provided via src, but projection rules are also specified, use projection rules</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a><span class="do">## e.g. if params$introduction specified a routine introduction different from historical coverage source, projection rules will be used to re-create historical coverage</span></span></code></pre></div>
<p><strong>EXAMPLE START</strong></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="do">## example data and common parameter set-up</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="do">## (example coverage source are collected for all examples to show)</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>year_cur <span class="ot">&lt;-</span> <span class="dv">2021</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>region <span class="ot">&lt;-</span> <span class="st">&quot;ISO&quot;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>example_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;../inst/example_data.csv&quot;</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>src <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">historic =</span> example_data[example_data<span class="sc">$</span>year <span class="sc">&lt;=</span> year_cur <span class="sc">&amp;</span> example_data<span class="sc">$</span>year <span class="sc">&gt;</span> <span class="dv">2015</span>, ],</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">future =</span> example_data[example_data<span class="sc">$</span>year <span class="sc">&gt;</span> year_cur, ])</span></code></pre></div>
<p><strong>EXAMPLE 1</strong> Example one works as a null run of
<strong>vacsce</strong>. Without specification of projection rules, the
package simply bind any historical and future coverage sources. In
practice, a null run may be not useful at all for external users.
However, for VIMC users, a null run works like combining historical and
future from two data sources (e.g. touchstones).]</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="do">## example 1 - no projection rules, binding historical and future coverage source</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># input set-up</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">params =</span> <span class="fu">list</span>(<span class="at">region =</span> region,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">disease =</span> <span class="st">&quot;Measles&quot;</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">proportion_risk =</span> <span class="dv">1</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>                            <span class="at">year_cur =</span> year_cur,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">introduction =</span> <span class="fu">data.frame</span>(<span class="at">vaccine =</span> <span class="fu">c</span>(<span class="st">&quot;MCV1&quot;</span>),</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">activity_type =</span> <span class="fu">c</span>(<span class="st">&quot;routine&quot;</span>),</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">year_intro =</span> <span class="fu">c</span>(<span class="cn">NA</span>))),</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">src =</span> src,</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">proj_rul =</span> <span class="fu">list</span>(</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule1 =</span> <span class="cn">NULL</span> <span class="co"># no projection rules, binding historical and future coverage source</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="co"># generate coverage scenario</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">vac_sce</span>(input)</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0 projection rules identified for routine MCV1; use any future coverage specified.</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for routine MCV1&quot;</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;No projection. Binding data from source coverage.&quot;</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a><span class="co"># output</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2017
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2021
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
0.455
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.466
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.477
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.488
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.498
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.508
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.518
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.528
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.537
</td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE 2</strong> Example 2 is a simple projection for only
one vaccine delivery.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="do">## example 2 - historical from source + future from non-linear scale-up</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># input set-up</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">params =</span> <span class="fu">list</span>(<span class="at">region =</span> region,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">disease =</span> <span class="st">&quot;Measles&quot;</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">proportion_risk =</span> <span class="dv">1</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>                            <span class="at">year_cur =</span> year_cur,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">introduction =</span> <span class="fu">data.frame</span>(<span class="at">vaccine =</span> <span class="fu">c</span>(<span class="st">&quot;MCV1&quot;</span>),</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">activity_type =</span> <span class="fu">c</span>(<span class="st">&quot;routine&quot;</span>),</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">year_intro =</span> <span class="fu">c</span>(<span class="cn">NA</span>))), <span class="do">## with NA year_intro, vacsce will find year_intro from source coverage </span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">src =</span> src,</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">proj_rul =</span> <span class="fu">list</span>(</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule1 =</span> <span class="fu">list</span>(<span class="at">non_linear_scale_up =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2022</span>, <span class="at">year_to =</span> <span class="dv">2030</span>, <span class="at">endpoint =</span> <span class="fl">0.99</span>, <span class="at">age_from =</span> <span class="dv">0</span>, <span class="at">age_to =</span> <span class="dv">0</span>, <span class="at">gender =</span> <span class="dv">1</span>)) <span class="co"># 1 rule for routine</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="co"># generate coverage scenario</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">vac_sce</span>(input)</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 projection rules identified for routine MCV1</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for routine MCV1&quot;</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;non_linear_scale_up(d, year_from = 2022, year_to = 2030, endpoint = 0.99, age_from = 0, age_to = 0, gender = 1)&quot;</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="co"># output</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2017
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2021
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
0.644
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.772
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.854
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.907
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.940
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.962
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.976
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.984
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.990
</td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE 3</strong></p>
<p><strong>vacsce</strong> can accomodate multiple vaccine deliveries,
and multiple projection rules for each vaccine delivery as well. In
Example 3, we artificially increase the complexity of coverage
projection. It consists of three vaccine deliveries - routine MCV1,
routine MCV2 and campaigns. MCV1 will non-linearly increase to a target
coverage level of 99%. MCV2 is assumed to have a future routine
introduction in year 2024. Its initial take up is between 2024 and 2027
following a “catch_up_with_x” rule, followed by non-linear scale-up
between 2028 and 2030 reaching 90% of coverage. Coverage level is
maintained at 90% for five years before 2% annual increase from 2036 and
2040. To avoid over-complicating the example, there is no campaign
projection rules provided.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="do">## example 3: mcv1 - historical + non-linear scale-up; mcv2 -  multiple rules; sia - binding source </span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># input set-up</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">params =</span> <span class="fu">list</span>(<span class="at">region =</span> region,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">disease =</span> <span class="st">&quot;Measles&quot;</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">proportion_risk =</span> <span class="dv">1</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>                            <span class="at">year_cur =</span> <span class="dv">2021</span>,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">introduction =</span> <span class="fu">data.frame</span>(<span class="at">vaccine =</span> <span class="fu">c</span>(<span class="st">&quot;MCV1&quot;</span>, <span class="st">&quot;MCV2&quot;</span>, <span class="st">&quot;Measles&quot;</span>),</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">activity_type =</span> <span class="fu">c</span>(<span class="st">&quot;routine&quot;</span>, <span class="st">&quot;routine&quot;</span>, <span class="st">&quot;campaign&quot;</span>),</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">year_intro =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">2024</span>, <span class="cn">NA</span>))),</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">src =</span> src,</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">proj_rul =</span> <span class="fu">list</span>(</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule1 =</span> <span class="fu">list</span>(<span class="at">non_linear_scale_up =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2022</span>, <span class="at">year_to =</span> <span class="dv">2030</span>, <span class="at">endpoint =</span> <span class="fl">0.99</span>, <span class="at">age_from =</span> <span class="dv">0</span>, <span class="at">age_to =</span> <span class="dv">0</span>, <span class="at">gender =</span> <span class="dv">1</span>)), <span class="co"># 1 rule for mcv1</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule2 =</span> <span class="fu">list</span>(<span class="at">catch_up_with_x =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2024</span>, <span class="at">year_to =</span> <span class="dv">2027</span>, <span class="at">vaccine_x_level =</span> <span class="fl">0.7</span>, <span class="at">age_from =</span> <span class="dv">2</span>, <span class="at">age_to =</span> <span class="dv">2</span>, <span class="at">gender =</span> <span class="dv">1</span>), <span class="co"># 4 rules for mcv2</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>                             <span class="at">non_linear_scale_up =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2028</span>, <span class="at">year_to =</span> <span class="dv">2030</span>, <span class="at">endpoint =</span> <span class="fl">0.9</span>, <span class="at">age_from =</span> <span class="dv">2</span>, <span class="at">age_to =</span> <span class="dv">2</span>, <span class="at">gender =</span> <span class="dv">1</span>),</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>                             <span class="at">keep_levels =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2031</span>, <span class="at">year_to =</span> <span class="dv">2035</span>, <span class="at">level =</span> <span class="fl">0.9</span>, <span class="at">age_from =</span> <span class="dv">2</span>, <span class="at">age_to =</span> <span class="dv">2</span>, <span class="at">gender =</span> <span class="dv">1</span>),</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>                             <span class="at">incremental =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2036</span>, <span class="at">year_to =</span> <span class="dv">2040</span>, <span class="at">step=</span><span class="fl">0.02</span>, <span class="at">cap =</span> <span class="fl">0.95</span>, <span class="at">age_from =</span> <span class="dv">2</span>, <span class="at">age_to =</span> <span class="dv">2</span>, <span class="at">gender =</span> <span class="dv">1</span>)),</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule3 =</span> <span class="cn">NULL</span> <span class="co"># no rules for SIA</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a><span class="co"># generate coverage scenario</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">vac_sce</span>(input)</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 projection rules identified for routine MCV1</span></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 projection rules identified for routine MCV2</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0 projection rules identified for campaign Measles; use any future coverage specified.</span></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for routine MCV1&quot;</span></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;non_linear_scale_up(d, year_from = 2022, year_to = 2030, endpoint = 0.99, age_from = 0, age_to = 0, gender = 1)&quot;</span></span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for routine MCV2&quot;</span></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;catch_up_with_x(d, year_from = 2024, year_to = 2027, vaccine_x_level = 0.7, age_from = 2, age_to = 2, gender = 1)&quot;</span></span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;non_linear_scale_up(d, year_from = 2028, year_to = 2030, endpoint = 0.9, age_from = 2, age_to = 2, gender = 1)&quot;</span></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;keep_levels(d, year_from = 2031, year_to = 2035, level = 0.9, age_from = 2, age_to = 2, gender = 1)&quot;</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;incremental(d, year_from = 2036, year_to = 2040, step = 0.02, cap = 0.95, age_from = 2, age_to = 2, gender = 1)&quot;</span></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for campaign Measles&quot;</span></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;No projection. Binding data from source coverage.&quot;</span></span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a><span class="co"># output</span></span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2017
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2021
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
0.644
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.772
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.854
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.907
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.940
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.962
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.976
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.984
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.990
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.233
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.439
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.590
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.700
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.792
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.856
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2031
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2032
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2033
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2034
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2035
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2036
</td>
<td style="text-align:right;">
0.920
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2037
</td>
<td style="text-align:right;">
0.940
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2038
</td>
<td style="text-align:right;">
0.950
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2039
</td>
<td style="text-align:right;">
0.950
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2040
</td>
<td style="text-align:right;">
0.950
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.918
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.826
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.826
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.826
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.826
</td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE 4</strong></p>
<p>Comparing with example 3, example 4 have an additional campaign
projection rule which projects future recurrent follow-up SIAs. Since
campaign projection is dependent on routine projection,
<strong>vacsce</strong> will prepare your input, and project routine and
campaigns sequentially. You do not need to worry about the ordering of
vaccine delivery in you input set-up. However, you need to make sure
that the order of projection rules match the order of vaccine
deliveries.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="do">## example 4</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># input set-up</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">params =</span>  <span class="fu">list</span>(<span class="at">region =</span> region,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>                             <span class="at">disease =</span> <span class="st">&quot;Measles&quot;</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>                             <span class="at">proportion_risk =</span> <span class="dv">1</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>                             <span class="at">year_cur =</span> <span class="dv">2021</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>                             <span class="at">introduction =</span> <span class="fu">data.frame</span>(<span class="at">vaccine =</span> <span class="fu">c</span>(<span class="st">&quot;MCV1&quot;</span>, <span class="st">&quot;MCV2&quot;</span>, <span class="st">&quot;Measles&quot;</span>),</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>                                                       <span class="at">activity_type =</span> <span class="fu">c</span>(<span class="st">&quot;routine&quot;</span>, <span class="st">&quot;routine&quot;</span>, <span class="st">&quot;campaign&quot;</span>),</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>                                                       <span class="at">year_intro =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">2024</span>, <span class="cn">NA</span>))),</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">src =</span> src,</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">proj_rul =</span> <span class="fu">list</span>(</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule1 =</span> <span class="fu">list</span>(<span class="at">non_linear_scale_up =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2022</span>, <span class="at">year_to =</span> <span class="dv">2030</span>, <span class="at">endpoint =</span> <span class="fl">0.99</span>, <span class="at">age_from =</span> <span class="dv">0</span>, <span class="at">age_to =</span> <span class="dv">0</span>,<span class="at">gender =</span> <span class="dv">1</span>)), <span class="co"># 1 rule for mcv1</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule2 =</span> <span class="fu">list</span>(<span class="at">catch_up_with_x =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2024</span>, <span class="at">year_to =</span> <span class="dv">2027</span>, <span class="at">vaccine_x_level =</span> <span class="fl">0.7</span>, <span class="at">age_from =</span> <span class="dv">0</span>, <span class="at">age_to =</span> <span class="dv">0</span>,<span class="at">gender =</span> <span class="dv">1</span>), <span class="co"># 2 rules for mcv2</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>                             <span class="at">non_linear_scale_up =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2028</span>, <span class="at">year_to =</span> <span class="dv">2030</span>, <span class="at">endpoint =</span> <span class="fl">0.95</span>, <span class="at">age_from =</span> <span class="dv">0</span>, <span class="at">age_to =</span> <span class="dv">0</span>,<span class="at">gender =</span> <span class="dv">1</span>)),</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule3 =</span> <span class="fu">list</span>(<span class="at">sia_follow_up =</span> <span class="fu">list</span>(<span class="at">vaccine_base =</span> <span class="st">&quot;MCV1&quot;</span>, <span class="at">year_current =</span> <span class="dv">2021</span>, <span class="at">year_to =</span> <span class="dv">2030</span>, <span class="at">look_back =</span> <span class="dv">4</span>, <span class="at">sia_level =</span> <span class="fl">0.9</span>, <span class="at">age_from =</span> <span class="dv">1</span>, <span class="at">age_to =</span> <span class="dv">5</span>, <span class="at">gender =</span> <span class="dv">1</span>)) <span class="co"># 1 rule for SIA</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a><span class="co"># generate coverage scenario</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">vac_sce</span>(input)</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 projection rules identified for routine MCV1</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 projection rules identified for routine MCV2</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 projection rules identified for campaign Measles</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for routine MCV1&quot;</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;non_linear_scale_up(d, year_from = 2022, year_to = 2030, endpoint = 0.99, age_from = 0, age_to = 0, gender = 1)&quot;</span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for routine MCV2&quot;</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;catch_up_with_x(d, year_from = 2024, year_to = 2027, vaccine_x_level = 0.7, age_from = 0, age_to = 0, gender = 1)&quot;</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;non_linear_scale_up(d, year_from = 2028, year_to = 2030, endpoint = 0.95, age_from = 0, age_to = 0, gender = 1)&quot;</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for campaign Measles&quot;</span></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;sia_follow_up(d, dat, vaccine_base = &#39;MCV1&#39;, year_current = 2021, year_to = 2030, look_back = 4, sia_level = 0.9, age_from = 1, age_to = 5, gender = 1)&quot;</span></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a><span class="co"># output</span></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.918
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2017
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
0.432
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2021
</td>
<td style="text-align:right;">
0.443
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
0.644
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.772
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.854
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.907
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.940
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.962
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.976
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.984
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV1
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.990
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.233
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.439
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.590
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.700
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.835
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.909
</td>
</tr>
<tr>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:left;">
MCV2
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.950
</td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE 5</strong></p>
<p>Example 5 presents future introduction of HPV vaccine. It assumes
routine introduction in 2027. <strong>vacsce</strong> projects an
initial catch-up campaign (or Multi-cohort campaign, or MAC) in the same
year targeting age groups 10-15 and females (gender = 3).</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="do">## example 5</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co"># input set-up</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">params =</span> <span class="fu">list</span>(<span class="at">region =</span> region,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">disease =</span> <span class="st">&quot;HPV&quot;</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">proportion_risk =</span> <span class="dv">1</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>                            <span class="at">year_cur =</span> <span class="dv">2021</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">introduction =</span> <span class="fu">data.frame</span>(<span class="at">vaccine =</span> <span class="fu">c</span>(<span class="st">&quot;HPV&quot;</span>, <span class="st">&quot;HPV&quot;</span>),</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">activity_type =</span> <span class="fu">c</span>(<span class="st">&quot;routine&quot;</span>, <span class="st">&quot;campaign&quot;</span>),</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">year_intro =</span> <span class="fu">c</span>(<span class="dv">2027</span>, <span class="cn">NA</span>))),</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">src =</span> src,</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">proj_rul =</span> <span class="fu">list</span>(</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule1 =</span> <span class="fu">list</span>(<span class="at">catch_up_with_x =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2027</span>, <span class="at">year_to =</span> <span class="dv">2030</span>, <span class="at">vaccine_x_level =</span> <span class="fl">0.7</span>, <span class="at">age_from =</span> <span class="dv">0</span>, <span class="at">age_to =</span> <span class="dv">0</span>, <span class="at">gender =</span> <span class="dv">3</span>), <span class="co"># 2 rules for routine</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">non_linear_scale_up =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2031</span>, <span class="at">year_to =</span> <span class="dv">2035</span>, <span class="at">endpoint =</span> <span class="fl">0.9</span>, <span class="at">age_from =</span> <span class="dv">0</span>, <span class="at">age_to =</span> <span class="dv">0</span>, <span class="at">gender =</span> <span class="dv">3</span>)),</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule2 =</span> <span class="fu">list</span>(<span class="at">sia_catch_up =</span> <span class="fu">list</span>(<span class="at">vaccine_base =</span> <span class="st">&quot;HPV&quot;</span>, <span class="at">sia_level =</span> <span class="fl">0.9</span>, <span class="at">age_from =</span> <span class="dv">10</span>, <span class="at">age_to =</span> <span class="dv">15</span>, <span class="at">gender =</span> <span class="dv">3</span>)) <span class="co"># 1 rule for SIA</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="co"># generate coverage scenario</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">vac_sce</span>(input)</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;No historical routine data identified.&quot;</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 projection rules identified for routine HPV</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 projection rules identified for campaign HPV</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for routine HPV&quot;</span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;catch_up_with_x(d, year_from = 2027, year_to = 2030, vaccine_x_level = 0.7, age_from = 0, age_to = 0, gender = 3)&quot;</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;non_linear_scale_up(d, year_from = 2031, year_to = 2035, endpoint = 0.9, age_from = 0, age_to = 0, gender = 3)&quot;</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for campaign HPV&quot;</span></span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;sia_catch_up(d, dat, vaccine_base = &#39;HPV&#39;, sia_level = 0.9, age_from = 10, age_to = 15, gender = 3)&quot;</span></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a><span class="co"># output</span></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.233
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.439
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.590
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.700
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2031
</td>
<td style="text-align:right;">
0.759
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2032
</td>
<td style="text-align:right;">
0.807
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2033
</td>
<td style="text-align:right;">
0.845
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2034
</td>
<td style="text-align:right;">
0.875
</td>
</tr>
<tr>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
HPV
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2035
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE 6</strong></p>
<p>Example 6 presents future introduction of MenA vaccine. It assumes
routine introduction in 2023. Different from example 5, example 6
assumes 90% at-risk population. As source coverage data has an initial
catch-up campaign, <strong>vacsce</strong> projects a mini-catch-up
campaign in the routine introduction year targeting only missing cohorts
born between the initial catch-up campaign and routine introduction.
That means that parameters age_from and age_to specified in the campaign
projection rule (rule 2) are coerted.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="do">## example 6 - Mena historical + non-linear scale-up; manually defined future intro + various rules; db sia for past and future projection for initial mac</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="do">## this has to be two-steps, as campaign projection depends on routine projections</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># input set-up</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">params =</span> <span class="fu">list</span>(<span class="at">region =</span> region,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">disease =</span> <span class="st">&quot;MenA&quot;</span>,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>                            <span class="at">proportion_risk =</span> <span class="fl">0.9</span>,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">year_cur =</span> year_cur,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>                            <span class="at">introduction =</span> <span class="fu">data.frame</span>(<span class="at">vaccine =</span> <span class="fu">c</span>(<span class="st">&quot;MenA&quot;</span>, <span class="st">&quot;MenA&quot;</span>),</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">activity_type =</span> <span class="fu">c</span>(<span class="st">&quot;routine&quot;</span>, <span class="st">&quot;campaign&quot;</span>),</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">year_intro =</span> <span class="fu">c</span>(<span class="dv">2023</span>, <span class="cn">NA</span>))),</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">src =</span> src,</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">proj_rul =</span> <span class="fu">list</span>(</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule1 =</span> <span class="fu">list</span>(<span class="at">catch_up_with_x =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2023</span>, <span class="at">year_to =</span> <span class="dv">2026</span>, <span class="at">vaccine_x_level =</span> <span class="fl">0.7</span>, <span class="at">age_from =</span> <span class="dv">0</span>, <span class="at">age_to =</span> <span class="dv">0</span>, <span class="at">gender =</span> <span class="dv">1</span>), <span class="co"># 2 rules for routine</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>                             <span class="at">non_linear_scale_up =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2027</span>, <span class="at">year_to =</span> <span class="dv">2030</span>, <span class="at">endpoint =</span> <span class="fl">0.9</span>, <span class="at">age_from =</span> <span class="dv">0</span>, <span class="at">age_to =</span> <span class="dv">0</span>, <span class="at">gender =</span> <span class="dv">1</span>)),</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule2 =</span> <span class="fu">list</span>(<span class="at">sia_catch_up =</span> <span class="fu">list</span>(<span class="at">vaccine_base =</span> <span class="st">&quot;MenA&quot;</span>, <span class="at">sia_level =</span> <span class="fl">0.9</span>, <span class="at">age_from =</span> <span class="dv">1</span>, <span class="at">age_to =</span> <span class="dv">29</span>, <span class="at">gender =</span> <span class="dv">1</span>)) <span class="co"># 1 rule for SIA</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="co"># generate coverage scenario</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">vac_sce</span>(input)</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;No historical routine data identified.&quot;</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 projection rules identified for routine MenA</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 projection rules identified for campaign MenA</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for routine MenA&quot;</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;catch_up_with_x(d, year_from = 2023, year_to = 2026, vaccine_x_level = 0.7, age_from = 0, age_to = 0, gender = 1)&quot;</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;non_linear_scale_up(d, year_from = 2027, year_to = 2030, endpoint = 0.9, age_from = 0, age_to = 0, gender = 1)&quot;</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for campaign MenA&quot;</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;sia_catch_up(d, dat, vaccine_base = &#39;MenA&#39;, sia_level = 0.9, age_from = 1, age_to = 29, gender = 1)&quot;</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a><span class="co"># output</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
0.918
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.900
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.210
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
0.395
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2025
</td>
<td style="text-align:right;">
0.531
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.630
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
0.695
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2028
</td>
<td style="text-align:right;">
0.744
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.782
</td>
</tr>
<tr>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
MenA
</td>
<td style="text-align:left;">
routine
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2030
</td>
<td style="text-align:right;">
0.810
</td>
</tr>
</tbody>
</table>
<p><strong>Example 7</strong></p>
<p>This is a simple example assuming that there is a Cholera campaign
every three years between 2020 and 2030.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="do">## example 7 - Cholera</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># input set-up</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">params =</span> <span class="fu">list</span>(<span class="at">region =</span> region,</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">disease =</span> <span class="st">&quot;Cholera&quot;</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">year_cur =</span> year_cur,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>                            <span class="at">introduction =</span> <span class="fu">data.frame</span>(<span class="at">vaccine =</span> <span class="fu">c</span>(<span class="st">&quot;Cholera&quot;</span>),</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">activity_type =</span> <span class="fu">c</span>(<span class="st">&quot;campaign&quot;</span>),</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">year_intro =</span> <span class="fu">c</span>(<span class="cn">NA</span>))),</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">src =</span> src,</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">proj_rul =</span> <span class="fu">list</span>(</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">rule1 =</span> <span class="fu">list</span>(<span class="at">sia_recurrent =</span> <span class="fu">list</span>(<span class="at">year_from =</span> <span class="dv">2020</span>, <span class="at">year_to =</span> <span class="dv">2030</span>, </span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">frequency =</span> <span class="dv">3</span>, <span class="at">sia_level =</span> <span class="fl">0.3</span>, </span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">age_from =</span> <span class="dv">1</span>, <span class="at">age_to =</span> <span class="dv">60</span>, <span class="at">gender =</span> <span class="dv">1</span>))</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co"># generate coverage scenario</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">vac_sce</span>(input)</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;No historical routine data identified.&quot;</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 projection rules identified for campaign Cholera</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;projecting trajectory for campaign Cholera&quot;</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;sia_recurrent(d, dat, year_from = 2020, year_to = 2030, frequency = 3, sia_level = 0.3, age_from = 1, age_to = 60, gender = 1)&quot;</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a><span class="co"># output</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a><span class="fu">show_cols</span>(dat)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
disease
</th>
<th style="text-align:left;">
vaccine
</th>
<th style="text-align:left;">
activity_type
</th>
<th style="text-align:left;">
region
</th>
<th style="text-align:right;">
age_from
</th>
<th style="text-align:right;">
age_to
</th>
<th style="text-align:right;">
gender
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
coverage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
0.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
0.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2026
</td>
<td style="text-align:right;">
0.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
Cholera
</td>
<td style="text-align:left;">
campaign
</td>
<td style="text-align:left;">
ISO
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2029
</td>
<td style="text-align:right;">
0.3
</td>
</tr>
</tbody>
</table>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
